(function(f){f.fn.stupidrainbow=function(j){var j=f.extend({arr:[0,0,0],sign:1,pos:0,crazyBlink:!1,crazyBlinkIncrement:10,debug:!1},j),k=function(b){for(var a=0;a<b.length;a++)b[a]=parseInt(b[a],10).toString(16),1==b[a].length&&(b[a]="0"+b[a]);return b};(function(b,a){var g=a.arr,h=a.sign,e=a.pos,d,c;(function(){if(a.crazyBlink){d=f(b).css("background-color")||"rgb( 0, 0, 0)";if("#"===d.charAt(0)){d=d.slice(1);if(3===d.lenth)for(var i=0;3>i;i++)c=d.charAt(i)+d.charAt(i);else c=d;c=(parseInt(c,16)+
a.crazyBlinkIncrement).toString(16)}else c=(parseInt(k(d.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/).slice(1)).join(""),16)+a.crazyBlinkIncrement).toString(16);for(16777215<parseInt(c,16)&&(c=(parseInt(c,16)-16777215).toString(16));6>c.length;)c="0"+c;f(b).css("background-color","#"+c);setTimeout(arguments.callee,50)}else 1===h&&255===g[e]||-1===h&&0===g[e]?(h*=-1,e=(e+2)%3,setTimeout(arguments.callee,0)):(g[e]+=h,f(b).css("background-color","rgb("+g.join(",")+")"),setTimeout(arguments.callee,50));
a.debug&&f(b).text("rgb("+g.join(",")+"), "+e+", "+h)})()})(this,j);return this}})(jQuery);
